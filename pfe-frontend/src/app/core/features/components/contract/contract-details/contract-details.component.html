<div class="card">
    <p-toast></p-toast>

    <div class="flex justify-content-between align-items-center mb-4">
        <h2>Contract Details</h2>
        <div class="flex gap-2">
            <button pButton label="Back" icon="pi pi-arrow-left" class="p-button-secondary"
                    (click)="onBack()"></button>
            <button pButton label="Edit" icon="pi pi-pencil" (click)="onEdit()"></button>
        </div>
    </div>

    <p-card *ngIf="contract && !loading">
        <div class="grid">
            <div class="col-12 md:col-6">
                <h3>Employee Information</h3>
                <div class="field">
                    <label>Name:</label>
                    <div>{{employee?.name}}</div>
                </div>
                <div class="field">
                    <label>ID:</label>
                    <div>{{employee?.id}}</div>
                </div>
            </div>

            <div class="col-12 md:col-6">
                <h3>Contract Information</h3>
                <div class="field">
                    <label>Type:</label>
                    <div>{{isSIVPContract(contract) ? 'SIVP' : 'Medysis'}}</div>
                </div>
                <div class="field">
                    <label>Start Date:</label>
                    <div>{{contract.start_date | date}}</div>
                </div>
                <div class="field">
                    <label>End Date:</label>
                    <div>{{contract.end_date | date}}</div>
                </div>
                <div class="field">
                    <label>Pattern:</label>
                    <div>{{contract.pattern}}</div>
                </div>

                <ng-container *ngIf="isSIVPContract(contract)">
                    <div class="field">
                        <label>Duration:</label>
                        <div>{{contract.duration}} months</div>
                    </div>
                    <div class="field">
                        <label>Sign:</label>
                        <div>{{contract.sign}}</div>
                    </div>
                    <div class="field">
                        <label>Breakup:</label>
                        <div>{{contract.breakup}}</div>
                    </div>
                </ng-container>

                <ng-container *ngIf="!isSIVPContract(contract)">
                    <div class="field">
                        <label>Type:</label>
                        <div>{{contract.type}}</div>
                    </div>
                </ng-container>
            </div>
        </div>
    </p-card>

    <div *ngIf="loading" class="flex justify-content-center">
        <p-progressSpinner></p-progressSpinner>
    </div>
</div> 