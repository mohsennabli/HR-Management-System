<div class="flex flex-col shadow-md p-4 min-h-screen bg-white w-64">
  <div class="mb-6 text-center">
    <h2 class="text-xl font-bold">Dashboard</h2>
  </div>

  <div *ngIf="user" class="mb-6 text-center">
    <div class="font-semibold mb-1">{{ user.name }}</div>
    <div class="text-gray-500 mb-3">{{ user.email }}</div>
    <button pButton type="button" label="Logout" class="p-button-sm p-button-danger w-full" (click)="logout()"></button>
  </div>

  <div>
    <h3 class="text-gray-500 uppercase text-xs mb-2">My Profile</h3>
    <ul>
      <li>
        <a pRipple routerLink="profile" routerLinkActive="active"
          class="block p-2 rounded hover:bg-blue-100">
          <i class="pi pi-user mr-2"></i>View Profile
        </a>
      </li>
    </ul>
  </div>

  <nav class="flex flex-col gap-4">
    <!-- Statistics Section - Admin and HR only -->
    <div *ngIf="canAccess([1, 3])">
      <h3 class="text-gray-500 uppercase text-xs mb-2">Statistics</h3>
      <ul>
        <li>
          <a pRipple routerLink="statistics" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">HR Analytics</a>
        </li>
      </ul>
    </div>

    <!-- User Management Section - Admin and HR only -->
    <div *ngIf="canAccess([1, 3])">
      <h3 class="text-gray-500 uppercase text-xs mb-2">User Management</h3>
      <ul>
        <li><a pRipple routerLink="users" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Manage Users</a></li>
        <li><a pRipple routerLink="employees" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Manage Employees</a></li>
      </ul>
    </div>

    <!-- Access Control Section - Admin only -->
    <div *ngIf="isAdmin()">
      <h3 class="text-gray-500 uppercase text-xs mb-2">Access Control</h3>
      <ul>
        <li><a pRipple routerLink="roles" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Manage Roles</a></li>
        <li><a pRipple routerLink="departments" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Departments</a></li>
      </ul>
    </div>

    <!-- Leave Management Section -->
    <div>
      <h3 class="text-gray-500 uppercase text-xs mb-2">Leave Management</h3>
      <ul>
        <!-- Leave Types - Admin and HR only -->
        <li *ngIf="canAccess([1, 3])">
          <a pRipple routerLink="leave" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Leave Types</a>
        </li>
        <!-- Leave Requests - All roles -->
        <li>
          <a pRipple routerLink="leave/requests" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Leave Requests</a>
        </li>
        <!-- Request a Leave - All roles -->
        <li>
          <a pRipple routerLink="leave/request" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Request a Leave</a>
        </li>
      </ul>
    </div>

    <!-- Training Management Section - Admin and HR only -->
    <div *ngIf="canAccess([1, 2,3])">
      <h3 class="text-gray-500 uppercase text-xs mb-2">Training Management</h3>
      <ul>
        <li>
          <a pRipple routerLink="training" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Training Programs</a>
        </li>
      </ul>
    </div>

    <!-- Discipline Management Section - Admin and HR only -->
    <div *ngIf="canAccess([1,2, 3])">
      <h3 class="text-gray-500 uppercase text-xs mb-2">Discipline Management</h3>
      <ul>
        <li>
          <a pRipple routerLink="discipline" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Disciplinary Actions</a>
        </li>
      </ul>
    </div>

    <!-- Contracts Section - Admin and HR only -->
    <div *ngIf="canAccess([1, 3])">
      <h3 class="text-gray-500 uppercase text-xs mb-2">Contracts</h3>
      <ul>
        <li>
          <a pRipple routerLink="/dashboard/contracts" routerLinkActive="active"
            class="block p-2 rounded hover:bg-blue-100">Contracts</a>
        </li>
      </ul>
    </div>
  </nav>
</div>
